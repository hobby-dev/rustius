#![feature(test)]

extern crate test;

#[cfg(test)]
mod tests {
    use test::{Bencher};
    use rustius::search_longest_2char_substr;

    #[bench]
    fn bench1(b: &mut Bencher) {
        b.iter(|| search_longest_2char_substr("abbbbbaaabbbbababababababababababababababbbabababababababaaaaaaaaaabbbbbbsdfjhwjehguiwedjhfsdjhsfdhgejbvabbbbbaaabbbbababababababababababababababbbabababababababaaaaaaaaaabbbbbbsdfjhwjehguiwedjhfsdjhsfdhgejbvsdfsfsdfabbbbbaaabbbbababababababababababababababbbabababababababaaaaaaaaaabbbbbbsdfjhwjehguiwedjhfsdjhsfdhgejbvabbbbbaaabbbbababababababababababababababbbabababababababaaaaaaaaaabbbbbbsdfjhwjehguiwedjhfsdjhsfdhgejbvsdfsfsdfjfsdhfsjkdhfjsdhfjskdhfjsdhf"));
    }

    #[bench]
    fn bench2(b: &mut Bencher) {
        b.iter(|| search_longest_2char_substr("0101010101010110101010101010101101010101010101010101010101010101010101010101010101010101010101010101010101101010101010101011010101010101010101010101010101010101010101010101010101010101010101010101011010101010101010110101010101010101010101010101010101010101010101010101010101010101010101010110101010101010101101010101010101010101010101010101010101010101010101010101010101010101010101101010101010101011010101010101010101010101010101010101010101010101010101010101"));
    }

    #[bench]
    fn bench3(b: &mut Bencher) {
        b.iter(|| search_longest_2char_substr("0123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123012301230123"));
    }
}